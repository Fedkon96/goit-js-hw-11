{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImagesByQuery(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '51363368-0cc0b280f35048ea67ead6bf3';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n  });\n\n  return fetch(`${BASE_URL}?${params}`)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .catch(err => {\n      throw err;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { refs } from '../main';\n\nexport function createGallery(arr) {\n  return arr\n    .map(\n      item =>\n        `<li class=\"img-box\">\n          <a href=\"${item.largeImageURL}\">\n            <img \n              src=\"${item.webformatURL}\" \n              alt=\"${item.tags}\" \n              width=\"360\" \n              height=\"200\"\n            >\n            <ul class=\"subscriptions\">\n                <li class=\"sub-title\">\n                  <h6>Likes</h6>\n                  <p>${item.likes}</p>\n                </li>\n                <li class=\"sub-title\">\n                  <h6>Views</h6>\n                  <p>${item.views}</p>\n                </li>\n                <li class=\"sub-title\">\n                  <h6>Comments</h6>\n                  <p>${item.comments}</p>\n                </li>\n                <li class=\"sub-title\">\n                  <h6>Downloads</h6>\n                  <p>${item.downloads}</p>\n                </li>\n            </ul>\n          </a>\n        </li>`\n    )\n    .join('');\n}\n\nconst gallery = new SimpleLightbox('.gallery a');\nexport function createLightbox() {\n  gallery.refresh();\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('is-hidden');\n}\nexport function showLoader() {\n  refs.loader.classList.remove('is-hidden');\n}\nexport function clearMarkUp() {\n  refs.galleryList.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\n\nexport const refs = {\n  form: document.querySelector('.form'),\n  galleryList: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n  input: document.querySelector('input'),\n};\n\nimport {\n  createGallery,\n  showLoader,\n  hideLoader,\n  clearMarkUp,\n  createLightbox,\n} from './js/render-functions.js';\n\n// !submit\nfunction onSubmit(event) {\n  event.preventDefault();\n  clearMarkUp();\n  showLoader();\n  const searchQuery = event.target.elements['search-text'].value.trim();\n  if (!searchQuery) {\n    hideLoader();\n    refs.form.reset();\n    return iziToast.error({\n      title: 'Помилка!',\n      message: 'Введіть ключеве слово пошуку!',\n      position: 'center',\n    });\n  }\n\n  getImagesByQuery(searchQuery)\n    .then(res => {\n      if (res.total === 0) {\n        refs.form.reset();\n        return iziToast.error({\n          message:\n            'На жаль, немає зображень, що відповідають вашому пошуковому запиту. Спробуйте ще раз!',\n          position: 'center',\n        });\n      } else {\n        refs.galleryList.innerHTML = createGallery(res.hits);\n        createLightbox();\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Помилка!',\n        message: 'Не вдалося завантажити зображення. Не має звязку з ресурсом.',\n        position: 'center',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n\nrefs.form.addEventListener('submit', onSubmit);\n"],"names":["getImagesByQuery","query","BASE_URL","API_KEY","params","res","err","createGallery","arr","item","gallery","SimpleLightbox","createLightbox","hideLoader","refs","showLoader","clearMarkUp","onSubmit","event","searchQuery","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAiBC,EAAO,CACtC,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACd,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EACjC,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,EACA,MAAMC,GAAO,CACZ,MAAMA,CACZ,CAAK,CACL,CClBO,SAASC,EAAcC,EAAK,CACjC,OAAOA,EACJ,IACCC,GACE;AAAA,qBACaA,EAAK,aAAa;AAAA;AAAA,qBAElBA,EAAK,YAAY;AAAA,qBACjBA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAOPA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,uBAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,cAKhC,EACA,KAAK,EAAE,CACZ,CAEA,MAAMC,EAAU,IAAIC,EAAe,YAAY,EACxC,SAASC,GAAiB,CAC/BF,EAAQ,QAAO,CACjB,CAEO,SAASG,GAAa,CAC3BC,EAAK,OAAO,UAAU,IAAI,WAAW,CACvC,CACO,SAASC,GAAa,CAC3BD,EAAK,OAAO,UAAU,OAAO,WAAW,CAC1C,CACO,SAASE,GAAc,CAC5BF,EAAK,YAAY,UAAY,EAC/B,CCjDO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,OAAO,CACvC,EAWA,SAASG,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpBF,IACAD,IACA,MAAMI,EAAcD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAC/D,GAAI,CAACC,EACH,OAAAN,IACAC,EAAK,KAAK,QACHM,EAAS,MAAM,CACpB,MAAO,WACP,QAAS,gCACT,SAAU,QAChB,CAAK,EAGHpB,EAAiBmB,CAAW,EACzB,KAAKd,GAAO,CACX,GAAIA,EAAI,QAAU,EAChB,OAAAS,EAAK,KAAK,QACHM,EAAS,MAAM,CACpB,QACE,wFACF,SAAU,QACpB,CAAS,EAEDN,EAAK,YAAY,UAAYP,EAAcF,EAAI,IAAI,EACnDO,GAER,CAAK,EACA,MAAMS,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,WACP,QAAS,+DACT,SAAU,QAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbP,GACN,CAAK,CACL,CAEAC,EAAK,KAAK,iBAAiB,SAAUG,CAAQ"}